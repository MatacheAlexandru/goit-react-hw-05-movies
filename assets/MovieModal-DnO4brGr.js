import{P as i,r as c,j as s,a as l}from"./index-B4oCgIc3.js";const x="_modalBackdrop_wsbtk_1",b="_modalContent_wsbtk_14",j="_closeButton_wsbtk_27",g="_moviePoster_wsbtk_42",k="_movieDetails_wsbtk_67",B="_tabButtons_wsbtk_74",C="_tabButton_wsbtk_74",f="_castSection_wsbtk_98",N="_reviewsSection_wsbtk_99",S="_castList_wsbtk_103",R="_reviewsList_wsbtk_104",L="_actorImage_wsbtk_119",e={modalBackdrop:x,modalContent:b,closeButton:j,moviePoster:g,movieDetails:k,tabButtons:B,tabButton:C,castSection:f,reviewsSection:N,castList:S,reviewsList:R,actorImage:L};function P({movie:a,onClose:o}){const[n,d]=c.useState(null),[h,m]=c.useState([]),[_,p]=c.useState([]),u=()=>{l.get(`https://api.themoviedb.org/3/movie/${a.id}/credits?api_key=686954a6867702e2802dd31dcf4680f7`).then(t=>m(t.data.cast)).catch(t=>console.log(t))},v=()=>{l.get(`https://api.themoviedb.org/3/movie/${a.id}/reviews?api_key=686954a6867702e2802dd31dcf4680f7`).then(t=>p(t.data.results)).catch(t=>console.log(t))},r=t=>{d(t),t==="cast"?u():t==="reviews"&&v()},w=t=>{t.target.classList.contains(e.modalBackdrop)&&o()};return s.jsx("div",{className:e.modalBackdrop,onClick:w,children:s.jsxs("div",{className:e.modalContent,children:[s.jsx("button",{onClick:o,className:e.closeButton,children:"X"}),s.jsx("img",{src:`https://image.tmdb.org/t/p/w500/${a.poster_path}`,alt:a.title,className:e.moviePoster}),s.jsx("h2",{children:a.title}),s.jsx("p",{children:a.overview}),s.jsxs("p",{children:[s.jsx("strong",{children:"Director:"})," "]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Release Date:"})," ",a.release_date]}),s.jsxs("div",{className:e.tabButtons,children:[s.jsx("button",{onClick:()=>r("cast"),className:e.tabButton,children:"Cast"}),s.jsx("button",{onClick:()=>r("reviews"),className:e.tabButton,children:"Reviews"})]}),n==="cast"&&s.jsxs("div",{className:e.castSection,children:[s.jsx("h3",{children:"Cast"}),s.jsx("ul",{className:e.castList,children:h.map(t=>s.jsxs("li",{children:[s.jsx("img",{src:`https://image.tmdb.org/t/p/w200/${t.profile_path}`,alt:t.name,className:e.actorImage}),s.jsxs("p",{children:[t.name," as ",t.character]})]},t.cast_id))})]}),n==="reviews"&&s.jsxs("div",{className:e.reviewsSection,children:[s.jsx("h3",{children:"Reviews"}),s.jsx("ul",{className:e.reviewsList,children:_.map(t=>s.jsxs("li",{children:[s.jsx("p",{children:s.jsx("strong",{children:t.author})}),s.jsx("p",{children:t.content})]},t.id))})]})]})})}P.propTypes={movie:i.shape({id:i.number.isRequired,title:i.string.isRequired,poster_path:i.string,overview:i.string,release_date:i.string}).isRequired,onClose:i.func.isRequired};export{P as M};
