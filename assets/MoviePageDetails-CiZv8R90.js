import{b as x,r as i,u as p,c as j,a as c,j as t}from"./index-BWMILKP5.js";const N="_movieDetailsContainer_bu1ef_1",B="_goBackButton_bu1ef_9",C="_moviePoster_bu1ef_26",S="_detailsSection_bu1ef_34",D="_movieTitle_bu1ef_41",I="_movieOverview_bu1ef_48",k="_releaseDate_bu1ef_55",T="_tabButtons_bu1ef_61",L="_tabButton_bu1ef_61",M="_castSection_bu1ef_85",P="_reviewsSection_bu1ef_86",R="_castList_bu1ef_90",A="_reviewsList_bu1ef_91",$="_castItem_bu1ef_96",y="_reviewItem_bu1ef_97",O="_actorImage_bu1ef_106",E="_actorDetails_bu1ef_114",G="_sectionTitle_bu1ef_119",q="_reviewAuthor_bu1ef_127",z="_reviewContent_bu1ef_133",F="_loadingMessage_bu1ef_140",s={movieDetailsContainer:N,goBackButton:B,moviePoster:C,detailsSection:S,movieTitle:D,movieOverview:I,releaseDate:k,tabButtons:T,tabButton:L,castSection:M,reviewsSection:P,castList:R,reviewsList:A,castItem:$,reviewItem:y,actorImage:O,actorDetails:E,sectionTitle:G,reviewAuthor:q,reviewContent:z,loadingMessage:F};function J(){const{movieId:o}=x(),[a,v]=i.useState(null),[n,_]=i.useState(null),[d,u]=i.useState([]),[h,b]=i.useState([]),l=p(),r=j();i.useEffect(()=>{c.get(`https://api.themoviedb.org/3/movie/${o}?api_key=686954a6867702e2802dd31dcf4680f7`).then(e=>v(e.data)).catch(e=>console.log(e))},[o]);const f=()=>{c.get(`https://api.themoviedb.org/3/movie/${o}/credits?api_key=686954a6867702e2802dd31dcf4680f7`).then(e=>u(e.data.cast)).catch(e=>console.log(e))},g=()=>{c.get(`https://api.themoviedb.org/3/movie/${o}/reviews?api_key=686954a6867702e2802dd31dcf4680f7`).then(e=>b(e.data.results)).catch(e=>console.log(e))},m=e=>{_(e),e==="cast"?f():e==="reviews"&&g()},w=()=>{r.state&&r.state.from==="movies"?l("/movies"):l("/home")};return a?t.jsxs("div",{className:s.movieDetailsContainer,children:[t.jsx("button",{onClick:w,className:s.goBackButton,children:"Go Back"}),t.jsx("img",{src:`https://image.tmdb.org/t/p/w500/${a.poster_path}`,alt:a.title,className:s.moviePoster}),t.jsxs("div",{className:s.detailsSection,children:[t.jsx("h2",{className:s.movieTitle,children:a.title}),t.jsx("p",{className:s.movieOverview,children:a.overview}),t.jsxs("p",{className:s.releaseDate,children:[t.jsx("strong",{children:"Release Date:"})," ",a.release_date]}),t.jsxs("div",{className:s.tabButtons,children:[t.jsx("button",{className:s.tabButton,onClick:()=>m("cast"),children:"Cast"}),t.jsx("button",{className:s.tabButton,onClick:()=>m("reviews"),children:"Reviews"})]}),n==="cast"&&t.jsxs("div",{className:s.castSection,children:[t.jsx("h3",{className:s.sectionTitle,children:"Cast"}),t.jsx("ul",{className:s.castList,children:d.map(e=>t.jsxs("li",{className:s.castItem,children:[t.jsx("img",{src:`https://image.tmdb.org/t/p/w200/${e.profile_path}`,alt:e.name,className:s.actorImage}),t.jsxs("p",{className:s.actorDetails,children:[e.name," as ",e.character]})]},e.cast_id))})]}),n==="reviews"&&t.jsxs("div",{className:s.reviewsSection,children:[t.jsx("h3",{className:s.sectionTitle,children:"Reviews"}),t.jsx("ul",{className:s.reviewsList,children:h.map(e=>t.jsxs("li",{className:s.reviewItem,children:[t.jsx("p",{className:s.reviewAuthor,children:t.jsx("strong",{children:e.author})}),t.jsx("p",{className:s.reviewContent,children:e.content})]},e.id))})]})]})]}):t.jsx("p",{className:s.loadingMessage,children:"Loading..."})}export{J as default};
